# 03 생애주기를 갖는 객체 - 엔티티



## 3.1 엔티티란?

* 동일성([identity](https://en.dict.naver.com/#/entry/enko/dac196e285234356a9c89562c8b030a7)) 통해 식별가능한지의 여부에 따라 엔티티와 값 객체를 구분. 식별 가능하면 엔티티.



## 3.2 엔티티의 성질

* 가변이다.
* 속성이 같아도 구분할 수 있다.
* 동일성(**IDentity**)을 통해 구별된다.



### 3.2.1 가변이다

* 값 객체는 불변성을 갖는 객체
* 엔티티는 가변성을 갖는 객체

* 예제

  * Ex03_01

  * Ex03_02

    

### 3.2.2 속성이 같아도 구분할 수 있다.

* 값 객체는 속성이 같다면 같은 것으로 취급했음.
* 엔티티는 속성이 같아도 두 엔티티를 서로 다른 것으로 취급함.

* 예제

  * Ex03_03

    

### 3.2.3 동일성

* 사용자 명이 변경되어도 ID(식별자)가 같으면 같은 사용자이다.

* 예제 
  * Ex03_04
  * UserId에 클레스에도 Equals & GetHashCode 코드가 구현되야한다.



## 3.3 엔티티의 판단 기준 - 생애주기와 연속성

* 생애주기가 존재하고, 연속성이 있다면 엔티티로 판단한다.
  * 그렇지 않다면 일단 값 객체로 판단함.



## 3.4 값 객체도 되고 엔티티도 될 수 있는 모델

* 같은 대상이라도 어떤 환경에 있느냐에 따라 모델링 방법이 달라짐.



## 3.5 도메인 객체를 정의할 때의 장점



### 3.5.1 자기 서술적인 코드가 된다.

### 3.5.2 도메인에 일어난 변경을 코드에 반영하기 쉽다.



## 3.6 정리

* ...



## 챕터 진행

- [x] 🎈 일독



### Rider 경고

* 여러가지 경고가 나오는데, 일단은 무시해야겠다.
  * 필드를 private로 바꾸거나 readonly로 바꾸라거나 등등...



#### 문법

* nameof 식 (C# 참조)
  * https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/operators/nameof
* Object.ToString 메서드 재정의
  * https://learn.microsoft.com/ko-kr/dotnet/api/system.object.tostring?view=net-6.0#overriding-the-objecttostring-method





## 정오표

* p52 : id 필드가 `readonly`인데 ChangeName에서 id를 재할당하는 구문이 있다.
  * id를 null 검사하는 부분과, id를 할당하는 부분을 제거하면 되겠다.





## 기타

### Rider에서 예제 프로젝트 연습할 때...

* 처음부터 콘솔 애플리케이션으로 시작하지 말고, 빈 솔루션을 먼저 만들고 하위에 콘솔 애플리케이션 프로젝트를 추가하는 식으로 진행하는 것이 편하다.
